# Зона доставки БЛГ от КАДа

Проект на Next.js с интеграцией Yandex Maps API для отображения зоны доставки от Кольцевой автодороги (КАД) Санкт-Петербурга.

## Технологии

- Next.js 15
- React 19
- TypeScript
- Tailwind CSS
- ESLint
- Яндекс Карты JavaScript API 2.1.79
- Turf.js (для создания буферных зон)

## Установка

```bash
npm install
```

## Настройка

### Хранение API ключа

**Важно:** API ключ хранится в файле `.env.local`, который автоматически игнорируется git (уже добавлен в `.gitignore`).

1. Файл `.env.local` уже создан с вашим API ключом
2. **Никогда не коммитьте** `.env.local` в git
3. Для других разработчиков: создайте свой `.env.local` по образцу `env.local.example`

### Структура `.env.local`:

```env
NEXT_PUBLIC_YANDEX_MAPS_API_KEY=your_api_key_here
```

**Безопасность:**
- ✅ `.env.local` в `.gitignore` - ключ не попадет в репозиторий
- ✅ Переменные с префиксом `NEXT_PUBLIC_` доступны в браузере (это нормально для Яндекс Карт)
- ⚠️ Не делитесь ключом публично
- ⚠️ При утечке ключа - перевыпустите его в панели разработчика Яндекс

## Запуск

```bash
npm run dev
```

Откройте [http://localhost:3000](http://localhost:3000) в браузере.

## Функционал

- Ввод радиуса зоны доставки в километрах (от 25 до 200 км)
- Визуализация зоны доставки на карте (буферная зона вокруг КАДа)
- Отображение самого КАДа красной линией
- Интерактивная карта с возможностью масштабирования и перемещения
- Динамическое обновление зоны доставки при изменении радиуса

## Структура проекта

```
├── app/                    # Next.js App Router
│   ├── page.tsx           # Главная страница
│   ├── layout.tsx         # Корневой layout
│   └── globals.css        # Глобальные стили
├── components/                  # React компоненты
│   ├── YandexMap.tsx          # Компонент карты
│   ├── DistanceInput.tsx      # Компонент ввода расстояния
│   └── YandexMapsScript.tsx   # Компонент загрузки скрипта Яндекс Карт
├── hooks/                      # React хуки
│   ├── useMap.ts              # Хук для управления картой и зоной доставки
│   └── useYandexMaps.ts        # Хук для проверки готовности Яндекс Карт API
├── lib/                        # Утилиты
│   ├── yandex-maps.ts         # Утилиты для работы с картами
│   ├── kad-coordinates.ts      # Координаты КАДа
│   └── parse-kad-coordinates.ts # Парсинг координат из URL Яндекс Карт
└── types/                      # TypeScript типы
    └── yandex-maps.d.ts       # Типы для Яндекс Карт API
```

## Сборка

```bash
npm run build
npm start
```

